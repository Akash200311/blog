<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head><link rel="stylesheet" href="nav.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="sr.css">
</style>
<body id="body">
    <div class="main">
        <div class="top">
            <nav class="navbar">
                <div class="navbar-container container">
                    <input type="checkbox" name="" id="">
                    <div class="hamburger-lines">
                        <span class="line line1"></span>
                        <span class="line line2"></span>
                        <span class="line line3"></span>
                    </div>
                    <ul class="menu-items">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">News</a></li>
                        <li><a href="#">Blogs</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#"><input type="text" placeholder="Search" id="search" oninput="active()" onclick="shift()"></a></li>
                      <a href="#"><img src="A.png" alt="error" class="icon" onclick="start()"></a>
                          <div>
    </div>




                    </ul>
                    <h1 class="logo">Navbar</h1>
                </div>
          
            </nav>
        </div>

            <div class="Middle" >
                <div class="categories" onclick="out()">
                    <h1>Category</h1>
                    <ul class="ui" name="Home" ><a href="new.html" class="yy"> Home</a></ul>
                    <ul class="ui" name="entertainment"><a href="enter.html" class="yy">Entertainment</a></ul>
                    <ul class="ui" name="sports" ><a href="sports.html" class="yy">Sports</a></ul>
                    <ul class="ui" name="business"><a href="buisness.html" class="yy">Buisness</a></ul>
                    <ul class="ui" name="technology"><a href="tech.html" class="yy">Technology</a></ul>
                    <ul class="ui" name="gaming" ><a href="game.html" class="yy">Gaming</a></ul>     
                    <ul class="ui" name="poliyical"><a href="poli.html" class="yy">Political</a></ul>                
           
               
                
                </div>

                <div class="mid" id="mid">

                    <div id="T">
                        <ul id="one" onclick="change1()">Entertainment</ul>
                        <ul id="two" onclick="change2()">Buisness</ul>
                        <ul id="three" onclick="change3()">Home</ul>
                        
                    </div>
            
         

                </div>
                </div>

           
 
   <script>
var w = window.screen.width;
var number=w/400
var t=Math.floor( number );
var u=1;
var t=1
var c=0;
var l=document.getElementById("search").value;

function active()
{ 







 
    function val()

    {
         var k=document.getElementById("search").value

   
    if(l!=k)
    {if(k=='')
    {document.getElementById("T").style.display="none";
    }
    else
    {
        document.getElementById("T").style.display="block";
    }
        function retrieveQueries() {
    var r=document.getElementById("search").value
    fetch(
        `https://corsanywhere.herokuapp.com/https://google.com/complete/search?client=chrome&q=${r}`
    )
        .then((res) => res.json()) //failed when just printing res as the default output, or with res.text()
        .then((data) => {

            document.getElementById("one").innerHTML=`${data[1][0]}`
        document.getElementById("two").innerHTML=`${data[1][1]}`
        document.getElementById("three").innerHTML=`${data[1][2]}`
        })
        .catch((err) => {
            console.error(err);
        });
}retrieveQueries()

    }

    if(k=="")
    {   document.getElementById("one").innerHTML=``
        document.getElementById("two").innerHTML=``
        document.getElementById("three").innerHTML=``

    }
    l=k;


}
val()

if(document.getElementById("T").style.display=="block")
{
    document.getElementById("g1").style.marginTop="120px";
    document.getElementById("body").style.overflowY="hidden";

}
else
{ document.getElementById("g1").style.marginTop="0px";


}
if(document.getElementById("T").style.display=="none")
{console.log("pop")
    document.getElementById("body").style.overflowY="auto";}





}









function change1()
{
    var i=document.getElementById("one").innerHTML;
    document.getElementById("search").value=i;
    document.getElementById("T").style.display="none"
    document.getElementById("g1").style.marginTop="0px";
    document.getElementById("body").style.overflowY="auto";

}
function change2()
{
    var i=document.getElementById("two").innerHTML;
    document.getElementById("search").value=i;
    document.getElementById("T").style.display="none"
    document.getElementById("g1").style.marginTop="0px";
    document.getElementById("body").style.overflowY="auto";

}
function change3()
{
    var i=document.getElementById("three").innerHTML;
    document.getElementById("search").value=i;
    document.getElementById("T").style.display="none"
    document.getElementById("g1").style.marginTop="0px";
    document.getElementById("body").style.overflowY="auto";

}
var g=null;
function start()
{var g=document.getElementById("search").value
if(c==0)
{
    document.getElementById("T").style.display="none"
    c=c+1;
}
if(c==1)
{c=0
}
c=c+1;

t=t+1
async function fetchText() {
    if(g!=null)
    {
        if(t==2)
        {}
        if(t==3)
        {
            var rm =
                document.getElementById("g1");
                rm.parentNode.removeChild(rm);
                t=2;
        }
    var r; 
    let response = await fetch(`https://newsapi.org/v2/everything?q=${g}&from=2023-03-31&to=2022-03-31&sortBy=popularity&apiKey=a6f7e88e76584950ab16ec31e90a80c4`);

    let data = await response.json();

    let x=data.articles;

    r =x

var row=document.createElement("div")
row.className="row"
row.id=`g${u}`;
document.getElementById(`mid`).appendChild(row)
    for(i=0;i<r.length;i++)
{if(r[i].urlToImage!=null)
    {

var div = document.createElement("div")
var div1 = document.createElement("div")
var div2 = document.createElement("div")
var div3 = document.createElement("div")
var div4= document.createElement("div")
var img= document.createElement("img")
var img1= document.createElement("img")
var link=document.createElement("a")

div.className="column";
div1.className="s";
div2.className="Y"
div2.id=`img${i}`;
div3.className="content";
div3.id=`con${i}`
div4.className="button";
div4.id=`b${i}`;
img1.className='read-more';
img1.id=`y${i}`

div.id=i;
div1.id=`s${i}`
img.id=`i${i}`
img.alt="error"
img.className="news-img1"

link.className="link"
link.id=`l${i}`
link.target=`_blank`
link.href="www.google.com"

document.getElementById(`g${u}`).appendChild(div)
document.getElementById(`${i}`).appendChild(div1);
document.getElementById(`s${i}`).appendChild(div2);
document.getElementById(`s${i}`).appendChild(div3);
document.getElementById(`s${i}`).appendChild(div4);
document.getElementById(`img${i}`).appendChild(img);
document.getElementById(`b${i}`).appendChild(link);
document.getElementById(`l${i}`).appendChild(img1);
document.getElementById(`y${i}`).src="read-more.png";
document.getElementById(`i${i}`).src=`${r[i].urlToImage}`
if(document.getElementById(`i${i}`).innerHTML=="error")
{
    console.log(i)
}
document.getElementById(`con${i}`).innerHTML=`<p class="text"> ${r[i].title}</p>`
document.getElementById(`l${i}`).href=`${r[i].url}`
}
}
    }
}

fetchText();


function category()
{    count=count+1;
    fetchText();
}}
 var y=0;

 
     
    
    


   </script>
     

</body>
</html>